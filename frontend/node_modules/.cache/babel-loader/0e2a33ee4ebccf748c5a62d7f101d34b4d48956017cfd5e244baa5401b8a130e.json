{"ast":null,"code":"var _jsxFileName = \"E:\\\\LMS\\\\frontend\\\\src\\\\pages\\\\EmployeeDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport LeaveBalance from \"../components/Employee/LeaveBalance\";\nimport LeaveApplication from \"../components/Employee/LeaveApplication\";\nimport LeaveStatus from \"../components/Employee/LeaveStatus\";\nimport { getLeaveBalance, getMyLeaves } from \"../services/api\";\nimport \"../components/Employee/EmployeeDashboard.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EmployeeDashboard = () => {\n  _s();\n  const [leaveBalance, setLeaveBalance] = useState(null);\n  const [leaves, setLeaves] = useState([]);\n  const [refresh, setRefresh] = useState(false);\n  useEffect(() => {\n    fetchLeaveBalance();\n    fetchLeaves();\n    // eslint-disable-next-line\n  }, [refresh]);\n  const fetchLeaveBalance = async () => {\n    try {\n      const res = await getLeaveBalance();\n      setLeaveBalance(res.data);\n    } catch {\n      setLeaveBalance({\n        earnedLeave: 0,\n        sickLeave: 5,\n        casualLeave: 7\n      }); // 5 casual leaves and 5 sick leaves , after 1 year of joining it should be 12 earrned leaves added\n    }\n  };\n  const fetchLeaves = async () => {\n    try {\n      const res = await getMyLeaves();\n      setLeaves(res.data);\n    } catch {\n      setLeaves([]);\n    }\n  };\n  const handleLeaveSubmitted = () => {\n    setRefresh(r => !r);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"employee-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Leave Management System\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), leaveBalance && /*#__PURE__*/_jsxDEV(LeaveBalance, {\n      earnedLeave: leaveBalance.earnedLeave,\n      sickLeave: leaveBalance.sickLeave,\n      casualLeave: leaveBalance.casualLeave\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(LeaveApplication, {\n      onLeaveSubmitted: handleLeaveSubmitted\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LeaveStatus, {\n      leaves: leaves\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(EmployeeDashboard, \"3dchy+3Nb7IQjeZ9hsIo833zGOY=\");\n_c = EmployeeDashboard;\nexport default EmployeeDashboard;\nvar _c;\n$RefreshReg$(_c, \"EmployeeDashboard\");","map":{"version":3,"names":["React","useState","useEffect","LeaveBalance","LeaveApplication","LeaveStatus","getLeaveBalance","getMyLeaves","jsxDEV","_jsxDEV","EmployeeDashboard","_s","leaveBalance","setLeaveBalance","leaves","setLeaves","refresh","setRefresh","fetchLeaveBalance","fetchLeaves","res","data","earnedLeave","sickLeave","casualLeave","handleLeaveSubmitted","r","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onLeaveSubmitted","_c","$RefreshReg$"],"sources":["E:/LMS/frontend/src/pages/EmployeeDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport LeaveBalance from \"../components/Employee/LeaveBalance\";\r\nimport LeaveApplication from \"../components/Employee/LeaveApplication\";\r\nimport LeaveStatus from \"../components/Employee/LeaveStatus\";\r\nimport { getLeaveBalance, getMyLeaves } from \"../services/api\";\r\nimport \"../components/Employee/EmployeeDashboard.css\";\r\n\r\nconst EmployeeDashboard = () => {\r\n  const [leaveBalance, setLeaveBalance] = useState(null);\r\n  const [leaves, setLeaves] = useState([]);\r\n  const [refresh, setRefresh] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchLeaveBalance();\r\n    fetchLeaves();\r\n    // eslint-disable-next-line\r\n  }, [refresh]);\r\n\r\n  const fetchLeaveBalance = async () => {\r\n    try {\r\n      const res = await getLeaveBalance();\r\n      setLeaveBalance(res.data);\r\n    } catch {\r\n      setLeaveBalance({ earnedLeave: 0, sickLeave: 5, casualLeave: 7 });// 5 casual leaves and 5 sick leaves , after 1 year of joining it should be 12 earrned leaves added\r\n    }\r\n  };\r\n\r\n  const fetchLeaves = async () => {\r\n    try {\r\n      const res = await getMyLeaves();\r\n      setLeaves(res.data);\r\n    } catch {\r\n      setLeaves([]);\r\n    }\r\n  };\r\n\r\n  const handleLeaveSubmitted = () => {\r\n    setRefresh((r) => !r);\r\n  };\r\n\r\n  return (\r\n    <div className=\"employee-dashboard\">\r\n      <h1>Leave Management System</h1>\r\n      {leaveBalance && (\r\n        <LeaveBalance\r\n          earnedLeave={leaveBalance.earnedLeave}\r\n          sickLeave={leaveBalance.sickLeave}\r\n          casualLeave={leaveBalance.casualLeave}\r\n        />\r\n      )}\r\n      <LeaveApplication onLeaveSubmitted={handleLeaveSubmitted} />\r\n      <LeaveStatus leaves={leaves} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmployeeDashboard;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,YAAY,MAAM,qCAAqC;AAC9D,OAAOC,gBAAgB,MAAM,yCAAyC;AACtE,OAAOC,WAAW,MAAM,oCAAoC;AAC5D,SAASC,eAAe,EAAEC,WAAW,QAAQ,iBAAiB;AAC9D,OAAO,8CAA8C;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACa,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAE7CC,SAAS,CAAC,MAAM;IACdgB,iBAAiB,CAAC,CAAC;IACnBC,WAAW,CAAC,CAAC;IACb;EACF,CAAC,EAAE,CAACH,OAAO,CAAC,CAAC;EAEb,MAAME,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI;MACF,MAAME,GAAG,GAAG,MAAMd,eAAe,CAAC,CAAC;MACnCO,eAAe,CAACO,GAAG,CAACC,IAAI,CAAC;IAC3B,CAAC,CAAC,MAAM;MACNR,eAAe,CAAC;QAAES,WAAW,EAAE,CAAC;QAAEC,SAAS,EAAE,CAAC;QAAEC,WAAW,EAAE;MAAE,CAAC,CAAC,CAAC;IACpE;EACF,CAAC;EAED,MAAML,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMb,WAAW,CAAC,CAAC;MAC/BQ,SAAS,CAACK,GAAG,CAACC,IAAI,CAAC;IACrB,CAAC,CAAC,MAAM;MACNN,SAAS,CAAC,EAAE,CAAC;IACf;EACF,CAAC;EAED,MAAMU,oBAAoB,GAAGA,CAAA,KAAM;IACjCR,UAAU,CAAES,CAAC,IAAK,CAACA,CAAC,CAAC;EACvB,CAAC;EAED,oBACEjB,OAAA;IAAKkB,SAAS,EAAC,oBAAoB;IAAAC,QAAA,gBACjCnB,OAAA;MAAAmB,QAAA,EAAI;IAAuB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAC/BpB,YAAY,iBACXH,OAAA,CAACN,YAAY;MACXmB,WAAW,EAAEV,YAAY,CAACU,WAAY;MACtCC,SAAS,EAAEX,YAAY,CAACW,SAAU;MAClCC,WAAW,EAAEZ,YAAY,CAACY;IAAY;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvC,CACF,eACDvB,OAAA,CAACL,gBAAgB;MAAC6B,gBAAgB,EAAER;IAAqB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC5DvB,OAAA,CAACJ,WAAW;MAACS,MAAM,EAAEA;IAAO;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5B,CAAC;AAEV,CAAC;AAACrB,EAAA,CA/CID,iBAAiB;AAAAwB,EAAA,GAAjBxB,iBAAiB;AAiDvB,eAAeA,iBAAiB;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}